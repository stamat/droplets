/* Copyright 2010 "Blastoff Software" TM. */
var z=false;var C;var D;var F=false;var G=undefined;var H=new Object;var I=true;var J;var K;var L;var M;var N;var O="";var P;var Q;var R;var S=[];var T=20;var U=0;var V=-1;var W=-1;var X=0;var Y;var Z=true;var aa;var ab;var ac={"A":0,"B":0,"C":0,"N":0,"T":0,"X":0,"Y":0};var ad={"-":"\u2212","=":">"};var ae=/^[\w\.\+\-\*\/\^\!\=\(\)\|@]+$/;var af=/^[\+\-\*\/\^\E\!\=]$/;var ag=/^((\d+(\.\d+)?)|(\.\d+))(?!\.)/;var ah=/^((sqrt)|(cbrt)|(log)|(ln)|(sin)|(cos)|(tan)|(asin)|(acos)|(atan)|(abs))\(/;var ai=/^\-?\d+(\.\d+)?(E\-?\d+)?$/;var aj=/([a-z\d]{4}\-?){2}[a-z\d]{4}\=[\w\.\-]+@[a-z\d\.\-]+\.[a-z]{2,4}$/i;var ak=Math.pow(10,10);var al=Math.pow(10,200);var am=Math.pow(10,-200);var an=10;var ao=300;var ap=400;var aq=1500;var ar="_";var as="<span class='cursorClass'>"+ar+"</span>";var at="\u2026";document.addEventListener("keydown",bh,false);document.addEventListener("keypress",bi,false);window.onfocus=focus;window.onblur=blur;var au="023456789ADEFGHIJNOPQRTUVWXZ";var av="MSC1KYBL";var aw=undefined;var ax=be("455320075609402721140B181E2361102C6A2D1E6269182D1E23282A2C5E763A");var ay=be("131147131557584113192A185023576530532616206E352E33391D337662706E");var az=be("452016150D0D58594229192724145D2A15211C211D166C5C216B60676B1D7521");var aA=be("04460355100D22171B5B14450E24172F542A1F29256463211C2F2A5C652C3C6D");var aB=be("04064755060F584128521F145A634F5B592456331616635C27663A676B603626");var aC=be("45161D550A5740271D575928242D4F5D2E64325C62192837655E3768296C7078");var aD=be("455354030B174017170D1C2B17560E5D11226854605E5A301B2B3A661F623278");var aE=be("1B4610190F241B1724215C1E0D5F272018191D312A3465212237251D2B1D3771");var aF=be("0963176F65787A1B77150C0E727324822880781D8826447A371F2C2E308C398C");var aG=aF;var aH=be("54146A106573717A286F79177E2D807477197B8688177B241F378C848A2D8540");var aI=be("1820192368662526817C2A7A25732E1C84831E7C75812037847E802E2D91273C");var aJ=be("20650913657E2676096F1F182C8126817914737F2C351983347E3981382E921F");var aK=be("186F0568157C0A2723204E0E6D812A74383A261F427C247C8C6D832289824648");var aL=be("0A0F08090C0A22261F221E6F21237782298129141E328219282D2C7C951E1E22");var aM=be("646A751C060F761E2119760C182B1E17718A711B87318B188889238A35289093");var aN=be("037414771A7E0C1A200F1A201611281E7C2477301D3229362333351B31342333");var aO=be("6F071B73650C1F1723186D112813247824852A2E322B291D1A282A2820242F98");var aP=new aT([128]);var aQ=new aT([112]);var aR=new aT([199,4,221,123]);var aS=[new aT([0,0,0,0]),new aT([4,193,29,183]),new aT([9,130,59,110]),new aT([13,67,38,217]),new aT([19,4,118,220]),new aT([23,197,107,107]),new aT([26,134,77,178]),new aT([30,71,80,5]),new aT([38,8,237,184]),new aT([34,201,240,15]),new aT([47,138,214,214]),new aT([43,75,203,97]),new aT([53,12,155,100]),new aT([49,205,134,211]),new aT([60,142,160,10]),new aT([56,79,189,189]),new aT([76,17,219,112]),new aT([72,208,198,199]),new aT([69,147,224,30]),new aT([65,82,253,169]),new aT([95,21,173,172]),new aT([91,212,176,27]),new aT([86,151,150,194]),new aT([82,86,139,117]),new aT([106,25,54,200]),new aT([110,216,43,127]),new aT([99,155,13,166]),new aT([103,90,16,17]),new aT([121,29,64,20]),new aT([125,220,93,163]),new aT([112,159,123,122]),new aT([116,94,102,205]),new aT([152,35,182,224]),new aT([156,226,171,87]),new aT([145,161,141,142]),new aT([149,96,144,57]),new aT([139,39,192,60]),new aT([143,230,221,139]),new aT([130,165,251,82]),new aT([134,100,230,229]),new aT([190,43,91,88]),new aT([186,234,70,239]),new aT([183,169,96,54]),new aT([179,104,125,129]),new aT([173,47,45,132]),new aT([169,238,48,51]),new aT([164,173,22,234]),new aT([160,108,11,93]),new aT([212,50,109,144]),new aT([208,243,112,39]),new aT([221,176,86,254]),new aT([217,113,75,73]),new aT([199,54,27,76]),new aT([195,247,6,251]),new aT([206,180,32,34]),new aT([202,117,61,149]),new aT([242,58,128,40]),new aT([246,251,157,159]),new aT([251,184,187,70]),new aT([255,121,166,241]),new aT([225,62,246,244]),new aT([229,255,235,67]),new aT([232,188,205,154]),new aT([236,125,208,45]),new aT([52,134,112,119]),new aT([48,71,109,192]),new aT([61,4,75,25]),new aT([57,197,86,174]),new aT([39,130,6,171]),new aT([35,67,27,28]),new aT([46,0,61,197]),new aT([42,193,32,114]),new aT([18,142,157,207]),new aT([22,79,128,120]),new aT([27,12,166,161]),new aT([31,205,187,22]),new aT([1,138,235,19]),new aT([5,75,246,164]),new aT([8,8,208,125]),new aT([12,201,205,202]),new aT([120,151,171,7]),new aT([124,86,182,176]),new aT([113,21,144,105]),new aT([117,212,141,222]),new aT([107,147,221,219]),new aT([111,82,192,108]),new aT([98,17,230,181]),new aT([102,208,251,2]),new aT([94,159,70,191]),new aT([90,94,91,8]),new aT([87,29,125,209]),new aT([83,220,96,102]),new aT([77,155,48,99]),new aT([73,90,45,212]),new aT([68,25,11,13]),new aT([64,216,22,186]),new aT([172,165,198,151]),new aT([168,100,219,32]),new aT([165,39,253,249]),new aT([161,230,224,78]),new aT([191,161,176,75]),new aT([187,96,173,252]),new aT([182,35,139,37]),new aT([178,226,150,146]),new aT([138,173,43,47]),new aT([142,108,54,152]),new aT([131,47,16,65]),new aT([135,238,13,246]),new aT([153,169,93,243]),new aT([157,104,64,68]),new aT([144,43,102,157]),new aT([148,234,123,42]),new aT([224,180,29,231]),new aT([228,117,0,80]),new aT([233,54,38,137]),new aT([237,247,59,62]),new aT([243,176,107,59]),new aT([247,113,118,140]),new aT([250,50,80,85]),new aT([254,243,77,226]),new aT([198,188,240,95]),new aT([194,125,237,232]),new aT([207,62,203,49]),new aT([203,255,214,134]),new aT([213,184,134,131]),new aT([209,121,155,52]),new aT([220,58,189,237]),new aT([216,251,160,90]),new aT([105,12,224,238]),new aT([109,205,253,89]),new aT([96,142,219,128]),new aT([100,79,198,55]),new aT([122,8,150,50]),new aT([126,201,139,133]),new aT([115,138,173,92]),new aT([119,75,176,235]),new aT([79,4,13,86]),new aT([75,197,16,225]),new aT([70,134,54,56]),new aT([66,71,43,143]),new aT([92,0,123,138]),new aT([88,193,102,61]),new aT([85,130,64,228]),new aT([81,67,93,83]),new aT([37,29,59,158]),new aT([33,220,38,41]),new aT([44,159,0,240]),new aT([40,94,29,71]),new aT([54,25,77,66]),new aT([50,216,80,245]),new aT([63,155,118,44]),new aT([59,90,107,155]),new aT([3,21,214,38]),new aT([7,212,203,145]),new aT([10,151,237,72]),new aT([14,86,240,255]),new aT([16,17,160,250]),new aT([20,208,189,77]),new aT([25,147,155,148]),new aT([29,82,134,35]),new aT([241,47,86,14]),new aT([245,238,75,185]),new aT([248,173,109,96]),new aT([252,108,112,215]),new aT([226,43,32,210]),new aT([230,234,61,101]),new aT([235,169,27,188]),new aT([239,104,6,11]),new aT([215,39,187,182]),new aT([211,230,166,1]),new aT([222,165,128,216]),new aT([218,100,157,111]),new aT([196,35,205,106]),new aT([192,226,208,221]),new aT([205,161,246,4]),new aT([201,96,235,179]),new aT([189,62,141,126]),new aT([185,255,144,201]),new aT([180,188,182,16]),new aT([176,125,171,167]),new aT([174,58,251,162]),new aT([170,251,230,21]),new aT([167,184,192,204]),new aT([163,121,221,123]),new aT([155,54,96,198]),new aT([159,247,125,113]),new aT([146,180,91,168]),new aT([150,117,70,31]),new aT([136,50,22,26]),new aT([140,243,11,173]),new aT([129,176,45,116]),new aT([133,113,48,195]),new aT([93,138,144,153]),new aT([89,75,141,46]),new aT([84,8,171,247]),new aT([80,201,182,64]),new aT([78,142,230,69]),new aT([74,79,251,242]),new aT([71,12,221,43]),new aT([67,205,192,156]),new aT([123,130,125,33]),new aT([127,67,96,150]),new aT([114,0,70,79]),new aT([118,193,91,248]),new aT([104,134,11,253]),new aT([108,71,22,74]),new aT([97,4,48,147]),new aT([101,197,45,36]),new aT([17,155,75,233]),new aT([21,90,86,94]),new aT([24,25,112,135]),new aT([28,216,109,48]),new aT([2,159,61,53]),new aT([6,94,32,130]),new aT([11,29,6,91]),new aT([15,220,27,236]),new aT([55,147,166,81]),new aT([51,82,187,230]),new aT([62,17,157,63]),new aT([58,208,128,136]),new aT([36,151,208,141]),new aT([32,86,205,58]),new aT([45,21,235,227]),new aT([41,212,246,84]),new aT([197,169,38,121]),new aT([193,104,59,206]),new aT([204,43,29,23]),new aT([200,234,0,160]),new aT([214,173,80,165]),new aT([210,108,77,18]),new aT([223,47,107,203]),new aT([219,238,118,124]),new aT([227,161,203,193]),new aT([231,96,214,118]),new aT([234,35,240,175]),new aT([238,226,237,24]),new aT([240,165,189,29]),new aT([244,100,160,170]),new aT([249,39,134,115]),new aT([253,230,155,196]),new aT([137,184,253,9]),new aT([141,121,224,190]),new aT([128,58,198,103]),new aT([132,251,219,208]),new aT([154,188,139,213]),new aT([158,125,150,98]),new aT([147,62,176,187]),new aT([151,255,173,12]),new aT([175,176,16,177]),new aT([171,113,13,6]),new aT([166,50,43,223]),new aT([162,243,54,104]),new aT([188,180,102,109]),new aT([184,117,123,218]),new aT([181,54,93,3]),new aT([177,247,64,180])];function aT(b){this.length=0;this.b=0;if(b instanceof aT){for(var a in b){this[a]=b[a]}}else{if(b instanceof Array){for(var a=0;a<b.length;a++){this[a]=b[a]}this.length=b.length;this.b=8*this.length}else{if(typeof(b)=="number"){this.c(b,0)}else{if(typeof(b)=="boolean"){this.d(b)}}}}}aT.prototype.d=function(b){var a=this.b%8;if(a==0){this[this.length]=0;this.length++}if(b){this[this.length-1]|=1<<(7-a)}this.b++};aT.prototype.c=function(b,a){if(a==this.length){this.length++;this.b=8*this.length}this[a]=b};aT.prototype.f=function(c){if(c==8){return}for(var a=7,b=1;a>=c;a--){this[this.length-1]&=~b;b<<=1}this.b-=(8-c)};aT.prototype.g=function(a,m){var l=new aT();var k=a%8;if(k<0){k+=8}var h=(a-k)/8;var g=m-a-1;var f=g%8;var e=(g-f)/8+1;for(var c=0,b=h,d;c<e;c++){d=0;if(0<=b&&b<this.length){d|=((this[b]<<k)&255)}b++;if(0<=b&&b<this.length){d|=(this[b]>>(8-k))}l.c(d,c)}l.f(f+1);return l};aT.prototype.h=function(c){var b=this.g(-(c),this.b-c);for(var a in b){this[a]=b[a]}};aT.prototype.n=function(e){var d=new aT(this);for(var b=0,a=-(e),c;b<this.length;b++){if(a<d.length&&a>=0){c=d[a]}else{c=0}this.c(c,b);a++}};aT.prototype.o=function(e){var d=(this.b-1)%8;for(var b=0;b<this.length;b++){if(d<7&&(b==this.length-1)){for(var a=0,c=128;a<=d;a++){this[b]|=(c&e[b]);c>>=1}}else{this[b]|=e[b]}}};aT.prototype.p=function(e){var d=(this.b-1)%8;for(var b=0;b<this.length;b++){if(d<7&&(b==this.length-1)){for(var a=0,c=128;a<=d;a++){this[b]^=(c&e[b]);c>>=1}}else{this[b]^=e[b]}}};aT.prototype.q=function(f){var e=new aT();var d=Math.min(this.length,f.length);var c=(Math.min(this.b,f.b)-1)%8;for(var b=0,a;b<d;b++){a=this[b]&f[b];e.c(a,b)}e.f(c+1);return e};aT.prototype.r=function(d){var c=d%8;var b=(d-c)/8;var a=1<<(7-c);return((this[b]&a)!=0)};aT.prototype.s=function(){var a=this.length-1;var c=(this.b-1)%8;var b=1<<(7-c);while(a>=0){if((b&this[a])!=0){break}if(b==128){b=1;a--;this.length--}else{b<<=1}this.b--}};aT.prototype.t=function(e){var a=Math.max(this.length,e.length)-1;var d=1;var c,b;while(a>=0){c=((d&(a<this.length?this[a]:0))!=0);b=((d&(a<e.length?e[a]:0))!=0);if(bA(c,b)){break}if(d==128){d=1;a--}else{d<<=1}}if(a>=0){return c}return true};aT.prototype.u=function(a){var m=new aT();var l=(Math.max(this.b,a.b)-1)%8;var k=Math.max(this.length,a.length);var h=false;for(var c=0,g;c<k;c++){g=0;for(var b=0,f=128,e,d;b<8;b++){if(c==k-1&&b>l){if(h){g|=f}h=false;break}e=((f&(c<this.length?this[c]:0))!=0);d=((f&(c<a.length?a[c]:0))!=0);if(bA(bA(e,d),h)){g|=f}h=(e&&d)||(e&&h)||(d&&h);f>>=1}m.c(g,c)}if(h){m.d(true)}else{m.s()}return m};aT.prototype.v=function(a){if(a.t(this)){return new aT(false)}var l=new aT();var k=(this.b-1)%8;var h=false;for(var c=0,g;c<this.length;c++){g=0;for(var b=0,f=128,e,d;b<8;b++){if(c==this.length-1&&b>k){break}e=((f&this[c])!=0);d=((f&(c<a.length?a[c]:0))!=0);if(bA(bA(e,d),h)){g|=f}h=(d&&h)||(!e&&(d||h));f>>=1}l.c(g,c)}l.s();return l};aT.prototype.w=function(f){var e=new aT(false);var d=(this.b-1)%8;for(var b=0;b<this.length;b++){for(var a=0,c=128;a<8;a++){if(b==this.length-1&&a>d){break}if((c&this[b])!=0){e=e.u(f.g(-(8*b+a),f.b))}c>>=1}}return e};function load(){setupParts();var bB=document.getElementsByTagName("*");for(var i=0,bC,bD;i<bB.length;i++){bC=bB[i];if(bC.id.substring(0,2)=="b_"){bD=bC.id.substring(2);H[bC.id]={defaultFace:bD,defaultTooltip:bC.title,second:{face:"",tooltip:""},mem:{face:"",tooltip:""},buttonFace:bD,depressed:false}}}H.b_2nd["second"]["face"]="1st";H.b_sqr["second"]["face"]="sqrt";H.b_log["second"]["face"]="ln";H.b_sin["second"]["face"]="asin";H.b_cos["second"]["face"]="acos";H.b_tan["second"]["face"]="atan";H.b_pi["second"]["face"]="e";H.b_2nd["second"]["tooltip"]="Primary functions";H.b_log["second"]["tooltip"]="Natural logarithm (logarithm to base e)";H.b_sin["second"]["tooltip"]="Arcsine";H.b_cos["second"]["tooltip"]="Arccosine";H.b_tan["second"]["tooltip"]="Arctangent";H.b_mem["mem"]["face"]="func";H.b_ee["mem"]["face"]="m_a";H.b_fact["mem"]["face"]="m_b";H.b_pi["mem"]["face"]="m_c";H.b_sin["mem"]["face"]="m_n";H.b_cos["mem"]["face"]="m_t";H.b_tan["mem"]["face"]="m_y";H.b_mem["mem"]["tooltip"]=H.b_mem["defaultTooltip"];var bE=document.getElementById(aM);var bF=document.getElementById(aL);bE.innerHTML="<span></span>";bF.innerHTML="<span></span>";var bG=0;for(var i=0;i<8;i++){bG|=((au.length>>(7-i))&1)<<i}var x=new aT(bG);x.s();aw=[new aT(true),x];for(var i=2;i<11;i++){aw[i]=aw[i-1].w(x)}for(var i=0;i<8;i++){J|=(aQ[0]>>(7-i)&1)<<i}if(widget.preferenceForKey("P0")==undefined){var bH=Math.round(eval(aK)/86400000)-8278;var bI=0;for(var i=0;i<16;i++){bI|=((bH>>(15-i))&1)<<i}widget.setPreferenceForKey(bI,"P0")}if(widget.preferenceForKey("P1")==undefined){widget.setPreferenceForKey("ABC","P1")}if(widget.preferenceForKey("P2")==undefined){widget.setPreferenceForKey("XYZ","P2")}bc();bd()}function remove(){if(!F&&z){clearTimeout(aa)}else{if(!z){clearTimeout(ab)}}}function hide(){bd();if(!F&&z){clearTimeout(aa)}else{if(!z){clearTimeout(ab)}}}function show(){if(!F&&z){bu()}else{if(!z){D=false;bs()}}}function sync(){}function showBack(a){var c=document.getElementById("front");var b=document.getElementById("back");if(window.widget){widget.prepareForTransition("ToBack")}c.style.display="none";b.style.display="block";if(window.widget){setTimeout("widget.performTransition();",0)}}function showFront(a){var c=document.getElementById("front");var b=document.getElementById("back");if(window.widget){widget.prepareForTransition("ToFront")}c.style.display="block";b.style.display="none";if(window.widget){setTimeout("widget.performTransition();",0)}}if(window.widget){widget.onremove=remove;widget.onhide=hide;widget.onshow=show;widget.onsync=sync}function blur(){z=false;document.getElementById("display_backlight").style.display="none";var b=document.getElementById(aM);var a=document.getElementById(aL);b[aN][aO]=K;a[aN][aO]=1-K;D=false;bs();if(!F){clearTimeout(aa);bt()}else{a.firstChild.innerHTML="<span class='blurredText resultText'>"+bv(Q)+"</span>"}}function focus(){z=true;clearTimeout(ab);document.getElementById("display_backlight").style.display="block";var b=document.getElementById(aM);var a=document.getElementById(aL);if(!F){bu()}else{b[aN][aO]=M;a[aN][aO]=1-M;b.firstChild.innerHTML="<span class='resultText'>"+bv(P)+"</span>";a.firstChild.innerHTML="<span class='resultText'>"+bv(Q)+"</span>"}}function aW(a){var b=undefined;if(F&&ai.test(Q)){b=Q.substring(0,Q.length*(1-M))}else{b=O}if(b){a.clipboardData.setData("text/plain",b);bf("clr")}a.stopPropagation();a.preventDefault()}function aX(a){var b=undefined;if(F&&ai.test(Q)){b=Q.substring(0,Q.length*(1-M))}else{b=O}if(b){a.clipboardData.setData("text/plain",b)}a.stopPropagation();a.preventDefault()}function aY(a){var b=a.clipboardData.getData("text/plain");if(b&&ae.test(b)){bg(b)}a.stopPropagation();a.preventDefault()}function aZ(a){widget.openURL("http://www.blastoffsoft.com/")}function ba(a){widget.openURL("https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&business=E98G7Z24J87UU&lc=US&item_name=Mini%20Scientific%20Calculator&item_number=001&amount=5%2e00&currency_code=USD&button_subtype=products&no_note=1&no_shipping=1&bn=PP%2dBuyNowBF%3abtn_buynowCC_LG%2egif%3aNonHosted")}function bb(a){widget.openURL("mailto:info@blastoffsoft.com")}function bc(){var a=widget.preferenceForKey("P1").replace(new RegExp("["+av+"]","gi"),"");a=a.toUpperCase();var s=new aT(false);for(var d=0,r,q,p;d<a.length;d++){r=au.indexOf(a.charAt(d))+(d%au.length);if(r>=au.length){r-=au.length}q=0;for(var c=0;c<8;c++){q|=((r>>(7-c))&1)<<c}p=new aT(q);p.s();s=s.u(aw[a.length-d-1].w(p))}s=s.g(0,s.b-1);var o=(s.b-1)%8;var n=new aT();for(var d=0,b=0;d<s.length;d++){for(var c=0,m=128,l;c<8;c++){if(d==s.length-1&&c>o){break}l=((m&s[d])!=0);if(l){b++}if((b==3&&l)||!l){n.d(((b>>1)&1)!=0);n.d((b&1)!=0);b=0}m>>=1}}var h=widget.preferenceForKey("P2").toUpperCase();var g=new aT(aR);for(var d=0,f;d<h.length;d++){f=g[0];g.n(-1);g.p(aS[f^h.charCodeAt(d)])}g.p(n);var e=new aT(0);for(var d=0;d<32;d++){e.o(g.q(aP));g.h(-1)}K=0;for(var d=0;d<8;d++){K|=((e[0]>>(7-d))&1)<<d}}function bd(){var bB=Math.round(eval(aK)/86400000)-8278;var bC=new aT();for(var bD=1;bD<=bB;bD<<=1){bC.d((bD&bB)!=0)}var bE=widget.preferenceForKey("P0");var bF=new aT([bE>>8,bE&255]);L=0;var bG=bC.v(bF);var bH=new aT(bG.t(aQ));for(var i=0;i<8;i++){L|=((bH[0]>>(7-i))&1)<<i}var bI=0;for(var i=0;i<16;i++){bI|=(bG.r(i)?1<<i:0)}N=J-bI;if(N<0){N=0}}function be(d){var c="";for(var a=0,b;a<d.length/2;a++){b=parseInt(d.substring(2*a,2*(a+1)),16)-a;if(b>=32){c+=String.fromCharCode(b)}}return c}function bf(a){switch(a){case"2nd":var n;for(var b in H){n=H[b]["second"]["face"];if(n){H[b]["buttonFace"]=n;bn(b,H[b]["second"]["tooltip"])}else{if(H[b]["mem"]["face"]){H[b]["buttonFace"]=H[b]["defaultFace"];bn(b,H[b]["defaultTooltip"])}}}bm();break;case"mem":var m;for(var b in H){m=H[b]["mem"]["face"];if(m){H[b]["buttonFace"]=m;bn(b,H[b]["mem"]["tooltip"])}else{if(H[b]["second"]["face"]){H[b]["buttonFace"]=H[b]["defaultFace"];bn(b,H[b]["defaultTooltip"])}}}bm();break;case"1st":case"func":for(var b in H){if(H[b]["second"]["face"]||H[b]["mem"]["face"]){H[b]["buttonFace"]=H[b]["defaultFace"];bn(b,H[b]["defaultTooltip"])}}bm();break;case"del":if(X<O.length){var l=O.substring(0,X);var k="";if(X<(O.length-1)){k=O.substring(X+1)}bu((l+k))}break;case"clr":V=-1;bu("",0);break;case"rpl":Z=false;H.b_rpl["buttonFace"]="ins";bn("b_rpl",'Toggle input mode to "insert" (insert input before cursor)');break;case"ins":Z=true;H.b_rpl["buttonFace"]="rpl";bn("b_rpl",H.b_rpl["defaultTooltip"]);break;case"rad":I=false;H.b_rad["buttonFace"]="deg";bn("b_rad","Toggle unit of angular measurement to degree");break;case"deg":I=true;H.b_rad["buttonFace"]="rad";bn("b_rad",H.b_rad["defaultTooltip"]);break;case"left":if(X>0){bu(undefined,(X-1))}break;case"right":if(X<O.length){bu(undefined,(X+1))}break;case"up":if(U>0){if(U==S.length){R=O;Y=X}U--;bu(U,0)}break;case"down":if(U<(S.length-1)){U++;bu(U,0)}else{if(U==(S.length-1)){bu(R,Y)}}break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"ans":case"e":case"pi":bg(a);break;case"dec":bg(".");break;case"neg":bg("\x28\x2d");break;case"plus":bg("+");break;case"minus":bg("-");break;case"mult":bg("*");break;case"div":bg("/");break;case"op":bg("(");break;case"cp":bg(")");break;case"sto":bg("=");break;case"m_a":case"m_b":case"m_c":case"m_n":case"m_t":case"m_x":case"m_y":bg(a.charAt(2).toUpperCase());break;case"exp":bg("^");break;case"sqr":bg("^2");break;case"sqrt":case"log":case"ln":case"sin":case"cos":case"tan":case"asin":case"acos":case"atan":bg(a+"(");break;case"ee":bg("E");break;case"fact":bg("!");break;case"eq":if(F){O=S[S.length-1]}else{if(U<S.length){S.splice(U,1)}if(O){bo(O)}U=S.length}var j;var h=bx(O);if(typeof(h)=="number"){G=h;Q=bw(h);M=L*K}else{if(aj.test(O)){j="E7";h="E8";var g=O.split("=");widget.setPreferenceForKey(g[0].replace(/\-/g,""),"P1");widget.setPreferenceForKey(g[1],"P2");bc();M=K}else{M=L*K}switch(h){case"E1":Q=ax;break;case"E2":Q=ay;break;case"E3":Q=az;break;case"E4":Q=aA;break;case"E5":Q=aB;break;case"E6":Q=aC;break;case"E8":Q=aH;break;default:Q=aE}}switch(j){case"E7":P=aD;break;default:P=aF}clearTimeout(aa);var f="<span class='resultText'>"+P+"</span>";var e="<span class='resultText'>"+bv(Q)+"</span>";var d=document.getElementById(aM);var c=document.getElementById(aL);d[aN][aO]=M;c[aN][aO]=1-M;d.firstChild.innerHTML=f;c.firstChild.innerHTML=e;F=true;O="";X=0;V=-1;break}}function bg(e){if(F&&af.test(e.charAt(0))){e="ans"+e}var d=O.substring(0,X)+e;var c="";if(X<O.length){if(Z){c=O.substring(X)}else{if(X<(O.length-1)){c=O.substring(X+1)}}}var b=X+e.length;var a={min:X-1,max:b};bu((d+c),b,a)}function bh(e){var g=true;var f=e.keyCode;switch(f){case 8:if(X<=O.length&&X>0){var d=O.substring(0,X-1);var c="";if(X<O.length){c=O.substring(X)}var b=X-1;var a={min:b-1,max:b};bu((d+c),b,a)}break;case 13:bf("eq");break;case 27:bf("clr");break;case 37:bf("left");break;case 38:bf("up");break;case 39:bf("right");break;case 40:bf("down");break;default:g=false}if(g){e.stopPropagation();e.preventDefault()}}function bi(a){if(a.metaKey){return}var c=true;var b=String.fromCharCode(a.charCode);if(ae.test(b)){bg(b)}else{if(b==">"){bg("=")}else{c=false}}if(c){a.stopPropagation();a.preventDefault()}}function bj(a){var b=a.target.id;H[b]["depressed"]=true;bl(b);bf(H[b]["buttonFace"],b);a.stopPropagation();a.preventDefault()}function bk(a){id=a.target.id;if(H[id]["depressed"]){H[id]["depressed"]=false;bl(id)}a.stopPropagation();a.preventDefault()}function bl(a){if(H[a]["depressed"]){document.getElementById(a).src="Images/"+H[a]["buttonFace"]+"_dp.png"}else{document.getElementById(a).src="Images/"+H[a]["buttonFace"]+".png"}}function bm(){for(var a in H){if(!H[a]["depressed"]){document.getElementById(a).src="Images/"+H[a]["buttonFace"]+".png"}}}function bn(b,a){document.getElementById(b).title=a}function bo(a){if(S.length==T){S.splice(0,1)}S[S.length]=a}function bp(){var d=bv(O);if(X==O.length){d+=ar}var c=document.getElementById(aL);var b=c.firstChild;var a;if(W!=-1){d=d.substring(0,(W+1))+at;a=W}else{a=d.length-1}b.innerHTML=d;if(b.offsetWidth<c.offsetWidth){V=-1}else{d=at+d.substring(1);while(true){b.innerHTML=d;if(b.offsetWidth<c.offsetWidth){break}d=at+d.substring(2)}if(W!=-1){V=a-d.length+3}else{V=a-d.length+2}}}function bq(){var c=O;if(X==O.length){c+=ar}if(V<c.length){var b=document.getElementById(aL);var a=b.firstChild;if(V!=-1){c=at+c.substring(V)}a.innerHTML=c;if(a.offsetWidth<b.offsetWidth){W=-1}else{c=c.substring(0,(c.length-1))+at;while(true){a.innerHTML=c;if(a.offsetWidth<b.offsetWidth){break}c=c.substring(0,(c.length-2))+at}if(V!=-1){W=V+c.length-3}else{W=c.length-2}}}else{W=-1}}function br(){C=(!C);var a;if(C){a=ao}else{a=ap}bt();aa=setTimeout("br()",a)}function bs(){D=(!D);var a=document.getElementById(aM);if(D){a.firstChild.innerHTML="<span class='blurredText resultText'>"+N+(N==1?aJ:aI)+"</span>"}else{a.firstChild.innerHTML="<span class='blurredText resultText'>"+aG+"</span>"}ab=setTimeout("bs()",aq)}function bt(){var d=bv(O);if(z&&(X==O.length)){d+=as}var c=X;if(W!=-1){d=d.substring(0,(W+1))+"<span class='rightEllipsis'>"+at+"</span>"}if(V!=-1){d=at+d.substring(V);c+=1-V}if(z&&C){if(X==O.length){d=d.substring(0,d.length-as.length)+"<span class='blinking'>"+as+"</span>"}else{var b=d.charAt(c);d=d.substring(0,c)+"<span class='blinking'>"+b+"</span>"+d.substring(c+1)}}else{if(!z){d="<span class='blurredText'>"+d+"</span>"}}var a=document.getElementById(aL);a.firstChild.innerHTML=d}function bu(h,g,f){clearTimeout(aa);var e=document.getElementById(aM);var d=document.getElementById(aL);e[aN][aO]=0;d[aN][aO]=1;d.style.visibility="hidden";var c;if(h!=undefined){c=(typeof(h)!="number");if(!c){O=S[h]}else{O=h}}else{c=false}if(g!=undefined){X=g}if(h!=undefined||(g!=undefined&&X==O.length)){bq()}var b,a;if(f!=undefined){b=f.min;a=f.max}else{b=X;a=X}if((V!=-1)&&(b<V)){if(b>0){V=b}else{V=-1}bq()}else{if((W!=-1)&&(a>W)){if(a<((X==O.length)?O.length:O.length-1)){W=a}else{W=-1}bp()}}if(X==O.length){C=true}else{C=false}br();d.style.visibility="visible";F=false;if(c){U=S.length}}function bv(c){var b=c;for(var a in ad){while(b.indexOf(a)!=-1){b=b.replace(a,ad[a])}}return b}function bw(a){if(a==0){return"0"}var j=((a<0)?"-":"");a=Math.abs(a);var h=a+"";var g=h.split("e");var f=g[0].split(".");var e;if(g[1]){e=parseInt((/(\+|\-)\d+$/).exec(g[1])[0])}else{if(f[0]&&(f[0]!="0")){e=f[0].length-1}else{e=(/^0*/).exec(f[1])[0].length*-1-1}}var d=Math.round(a*Math.pow(10,an-e-1))+"";if(d.length>an){e++;d=d.substring(0,d.length-1)}var c="";if((e<an)&&(e>-4)){if(e<0){j+="0";for(var b=0;b<(e*-1-1);b++){c+="0"}c+=d.replace(/0+$/,"")}else{j+=d.substring(0,e+1);c=d.substring(e+1).replace(/0+$/,"")}if(c){j+="."+c}}else{j+=d.charAt(0);c=d.substring(1).replace(/0+$/,"");if(c){j+="."+c}j+="E"+e}return j}function bx(a){var k=0;try{var j;var b=0;while(b<a.length){j=g(b);if(typeof(j)=="string"){throw j}if(j==undefined){break}k+=(j[0]*ak);b=j[1]}k/=ak;if(b==0){throw"E1"}if(isNaN(k)){throw"E0"}if(Math.abs(k)>=al){throw"E3"}if(Math.abs(k)<=am){k=0}if(b<a.length){if(a.charAt(b)=="="){b++;var h=a.substring(b),f;for(var d in ac){f=(h==d);if(f){ac[d]=k;break}}if(!f){throw"E5"}}else{throw"E1"}}}catch(c){k=c}return k;function g(l){var i=undefined,n;if(l>0){if(a.charAt(l)=="-"){i=-1}else{if(a.charAt(l)=="+"){i=1}}n=l+1}else{i=1;n=l}if(i!=undefined){var e,o=0;while(n<a.length){e=m(n);if(typeof(e)=="string"){return e}if(e==undefined){break}i*=e[0];n=e[1];o++}if(o>0){return[i,n]}}return undefined;function m(w){var v=true,q=w,u=1;if(o>0){if(a.charAt(w)=="-"){v=false}else{if(a.charAt(w)=="*"){q++}else{if(a.charAt(w)=="/"){u=-1;q++}}}}if(v){var t;if(a.charAt(q)=="-"){t=-1;q++}else{t=1}var s=p(q);if(typeof(s)=="string"){return s}if(s!=undefined){q=s[1];var r;while(a.charAt(q)=="^"){r=p(q+1);if(typeof(r)=="string"){return r}if(r!=undefined){u*=r[0];q=r[1];continue}break}if((s[0]==0)&&(u<0)){return"E2"}if((s[0]<0)&&!bz(u)){return"E4"}return[Math.pow(s[0],u)*t,q]}}return undefined;function p(aV){var aU,B;if(a.charAt(aV)=="-"){aU=-1;B=aV+1}else{aU=1;B=aV}var E=y(B);if(typeof(E)=="string"){return E}var A=undefined;while(E!=undefined){A=E;B=A[1];if(a.charAt(B)=="E"){var x=y(B+1);if(typeof(x)=="string"){return x}if(x!=undefined){if(!bz(x[0])){return"E4"}E=[A[0]*Math.pow(10,x[0]),x[1]];continue}}else{if(a.charAt(B)=="!"){if(!bz(A[0])){return"E4"}var a0=by(A[0]);if(typeof(a0)=="string"){return a0}if(a0!=undefined){E=[a0,B+1];continue}}}E=undefined}if(A!=undefined){return[A[0]*aU,A[1]]}return undefined;function y(a5){var a8,a3;if(a.charAt(a5)=="-"){a8=a5+1;a3=-1}else{a8=a5;a3=1}var a1=ag.exec(a.substring(a8));if(a1!=null){return[parseFloat(a1[0])*a3,a8+a1[0].length]}else{if(a.charAt(a8)=="("){var bC=0,bB=0;while(true){a8++;if(a8>=a.length){break}if(a.charAt(a8)=="("){bC++}else{if(a.charAt(a8)==")"){if(bC==0){break}bC--}}bB++}if(bB>0){var a9=bx(a.substring(a8-bB,a8));if(typeof(a9)=="number"){return[a9*a3,a8+1]}return a9}}else{if(a.charAt(a8)=="|"){var bC=0,bB=0;while(true){a8++;if(a8>=a.length){break}if(a.charAt(a8)=="("){bC++}else{if(a.charAt(a8)==")"){bC--}else{if(a.charAt(a8)=="|"){if(bC==0){break}}}}bB++}if(bB>0){var a9=bx(a.substring(a8-bB,a8));if(typeof(a9)=="number"){return[Math.abs(a9)*a3,a8+1]}return a9}}else{if(a.charAt(a8)=="e"){return[Math.E*a3,a8+1]}else{if(a.substring(a8,a8+2)=="pi"){return[Math.PI*a3,a8+2]}else{if(a.substring(a8,a8+3)=="ans"){if(G==undefined){return"E6"}return[G*a3,a8+3]}else{var a7=ah.exec(a.substring(a8));if(a7!=null){var a6=y(a8+a7[1].length);if(typeof(a6)=="string"){return a6}if(a6!=undefined){var a4;switch(a7[1]){case"sqrt":if(a6[0]<0){return"E4"}a4=Math.sqrt(a6[0]);break;case"cbrt":a4=Math.pow(Math.abs(a6[0]),1/3)*((a6[0]<0)?-1:1);break;case"log":if(a6[0]<=0){return"E4"}a4=Math.log(a6[0])/Math.LN10;break;case"ln":if(a6[0]<=0){return"E4"}a4=Math.log(a6[0]);break;case"cos":if(I){a4=Math.cos(a6[0]*Math.PI/180)}else{a4=Math.cos(a6[0])}break;case"sin":if(I){a4=Math.sin(a6[0]*Math.PI/180)}else{a4=Math.sin(a6[0])}break;case"tan":if(I){a4=Math.tan(a6[0]*Math.PI/180)}else{a4=Math.tan(a6[0])}break;case"acos":if((a6[0]<-1)||(a6[0]>1)){return"E4"}if(I){a4=Math.acos(a6[0])*180/Math.PI}else{a4=Math.acos(a6[0])}break;case"asin":if((a6[0]<-1)||(a6[0]>1)){return"E4"}if(I){a4=Math.asin(a6[0])*180/Math.PI}else{a4=Math.asin(a6[0])}break;case"atan":if(I){a4=Math.atan(a6[0])*180/Math.PI}else{a4=Math.atan(a6[0])}break;case"abs":a4=Math.abs(a6[0]);break}return[a4*a3,a6[1]]}}else{for(var a2 in ac){if(a.charAt(a8)==a2){return[ac[a2]*a3,a8+1]}}}}}}}}}return undefined}}}}}function by(c){if(c==Infinity){return"E3"}if(c<0){return"E4"}var b=1,a=2;while(a<=c){b*=a;a++}return b}function bz(a){return(a==Math.floor(a))}function bA(a,b){return(a||b)&&!(a&&b)};